(window.webpackJsonpvtex_product_highlights_2_3_0=window.webpackJsonpvtex_product_highlights_2_3_0||[]).push([["ProductHighlightText"],[function(t,i){t.exports=React},function(t,i){t.exports=ReactIntl},,function(t,i){t.exports=__RENDER_8_COMPONENTS__["vtex.product-context@0.x/useProduct"]},function(t,i,e){"use strict";e.r(i),e.d(i,"useHighlight",(function(){return c}));var h=e(0),l=e.n(h),n=e(1),r=e(3),o=e.n(r);var d={type:"hide",highlightNames:[]};var g=l.a.createContext(null),a=function(t){var i=t.highlight,e=t.type,n=t.children,r=Object(h.useMemo)((function(){return{highlight:i,type:e}}),[i,e]);return l.a.createElement(g.Provider,{value:r},n)};function u(t){var i,e,n,r,g=t.filter,u=void 0===g?d:g,s=t.type,c=void 0===s?"collection":s,m=t.children,p=null!==(i=o()())&&void 0!==i?i:{},v=p.product,f=p.selectedItem,y=null!=f?f:null===(e=null==v?void 0:v.items)||void 0===e?void 0:e[0],_=y?function(t){var i,e,h=null===(i=null==t?void 0:t.sellers)||void 0===i?void 0:i.find((function(t){return t.sellerDefault}));return h||(null===(e=null==t?void 0:t.sellers)||void 0===e?void 0:e[0])}(y):null,x=Object(h.useMemo)((function(){var t,i,e,h,l,n=null!==(t=null==v?void 0:v.clusterHighlights)&&void 0!==t?t:[],r=null!==(e=null===(i=null==_?void 0:_.commertialOffer)||void 0===i?void 0:i.discountHighlights)&&void 0!==e?e:[],o=null!==(l=null===(h=null==_?void 0:_.commertialOffer)||void 0===h?void 0:h.teasers)&&void 0!==l?l:[],d=function(t){return function(i){var e=t.highlightNames.includes(i.name);return!("hide"===t.type&&e||"show"===t.type&&!e)}}(u);return"collection"===c?n.filter(d):"promotion"===c?r.filter(d):"teaser"===c?o.filter(d):[]}),[u,null==v?void 0:v.clusterHighlights,null===(n=null==_?void 0:_.commertialOffer)||void 0===n?void 0:n.discountHighlights,null===(r=null==_?void 0:_.commertialOffer)||void 0===r?void 0:r.teasers,c]);return v?l.a.createElement(l.a.Fragment,null,x.map((function(t,i){return l.a.createElement(a,{key:i,type:c,highlight:t},m)}))):null}var s=Object(n.defineMessages)({Filter:{id:"admin/editor.product-highlights.filter"},QueryType:{id:"admin/editor.product-highlights.type"},Collection:{id:"admin/editor.product-highlights.type.collection"},Promotion:{id:"admin/editor.product-highlights.type.promotion"},Teaser:{id:"admin/editor.product-highlights.type.teaser"},Type:{id:"admin/editor.product-highlights.filter.type"},Hide:{id:"admin/editor.product-highlights.filter.type.hide"},Show:{id:"admin/editor.product-highlights.filter.type.show"},HighlightNames:{id:"admin/editor.product-highlights.filter.highlight-names"},HighlightName:{id:"admin/editor.product-highlights.filter.highlight-names.item"}});u.schema={title:"Product Highlights",type:"object",properties:{filter:{title:s.Filter.id,type:"object",properties:{type:{title:s.Type.id,type:"string",enum:["hide","show"],enumNames:[s.Hide.id,s.Show.id]},highlightNames:{title:s.HighlightNames.id,type:"array",minItems:0,maxItems:5,items:{title:s.HighlightName.id,type:"string",default:""}}}},type:{title:"admin/editor.product-highlights.type",type:"string",enum:["collection","promotion","teaser"],enumNames:[s.Collection.id,s.Promotion.id,s.Teaser.id]}}};var c=function(){return Object(h.useContext)(g)};i.default=u},function(t,i){t.exports=__RENDER_8_COMPONENTS__["vtex.css-handles@0.x/useCssHandles"]},,function(t,i){t.exports=__RENDER_8_COMPONENTS__["vtex.native-types@0.x/IOMessageWithMarkers"]},function(t,i){t.exports=__RENDER_8_COMPONENTS__["vtex.native-types@0.x/formatIOMessage"]},function(t,i,e){"use strict";e.r(i),function(t){var i=e(2);e.p=Object(i.getPublicPath)("vtex.product-highlights@2.3.0");var h=Object(i.register)((function(){return e(10)}),t,"vtex.product-highlights@2.3.0","vtex.product-highlights@2.x","ProductHighlightText");h.renderHotReload,h.setupHMR}.call(this,e(6)(t))},function(t,i,e){"use strict";e.r(i);var h=e(0),l=e.n(h),n=e(7),r=e.n(n),o=e(8),d=e.n(o),g=e(5),a=e.n(g),u=e(1),s=e(4),c=["productHighlightText"];i.default=function(t){var i=t.message,e=void 0===i?"":i,n=t.markers,o=void 0===n?[]:n,g=t.link,m=void 0===g?"":g,p=a()(c),v=Object(s.useHighlight)(),f=Object(u.useIntl)(),y=Object(h.useMemo)((function(){var t,i={highlightName:""};if(!v)return i;if(m){var e=d()({intl:f,id:m},{highlightId:null!==(t=v.highlight.id)&&void 0!==t?t:"",highlightName:v.highlight.name});i.highlightName=l.a.createElement("a",{href:e,key:"highlightLink","data-highlight-name":v.highlight.name,"data-highlight-id":v.highlight.id,"data-highlight-type":v.type,className:p.productHighlightText},v.highlight.name)}else i.highlightName=l.a.createElement("span",{key:"highlightName","data-highlight-name":v.highlight.name,"data-highlight-id":v.highlight.id,"data-highlight-type":v.type,className:p.productHighlightText},v.highlight.name);return i}),[v,m,f,p.productHighlightText]);return v&&e?l.a.createElement(r.a,{handleBase:"productHighlightText",message:e,markers:o,values:y}):null}}],[[9,"common"]]]);