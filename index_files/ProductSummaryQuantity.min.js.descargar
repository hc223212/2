(window.webpackJsonpvtex_product_quantity_1_9_0=window.webpackJsonpvtex_product_quantity_1_9_0||[]).push([["ProductSummaryQuantity"],[function(t,e){t.exports=React},function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.css-handles@0.x/useCssHandles"]},function(t,e){t.exports=ReactIntl},,,function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.product-context@0.x/useProduct"]},function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.product-context@0.x/ProductDispatchContext"]},function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Dropdown"]},function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Input"]},function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.device-detector@0.x/useDevice"]},function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/NumericStepper"]},function(t,e,n){"use strict";var a=n(0),i=n.n(a),o=n(2),r=n(1),u=n.n(r),c=n(4),l=n(7),s=n.n(l),d=n(8),p=n.n(d),v=n(9),m=n.n(v),y=function(t,e){return t>e?e:t},_=function(t,e){var n=parseInt(t,10);return Number.isNaN(n)?1:y(parseInt(t,10),e)},f=["quantitySelectorDropdownMobileContainer","quantitySelectorDropdownContainer","quantitySelectorInputMobileContainer","quantitySelectorInputContainer"],b=function(t){var e=t.itemId,n=t.selectedQuantity,o=t.size,r=void 0===o?"small":o,l=t.onChange,d=t.availableQuantity,v=Object(a.useState)("dropdown"),b=Object(c.a)(v,2),h=b[0],x=b[1],E=Object(a.useState)("".concat(n)),N=Object(c.a)(E,2),q=N[0],S=N[1],w=m()().isMobile,C=u()(f),g=function(t){for(var e=Math.min(9,t),n=[],a=1;a<=e;++a)n.push({value:a,label:"".concat(a)});return t>=10&&n.push({value:10,label:"".concat(10,"+")}),n}(d),M=function(t){var e=_(t,d),n=function(t,e){var n=parseInt(t,10);return Number.isNaN(n)||n<1?"":"".concat(y(n,e))}(t,d);"dropdown"===h&&e>=Math.min(d+1,10)&&x("input"),S(n),l({value:e})};return"dropdown"===h?i.a.createElement("div",{className:w?C.quantitySelectorDropdownMobileContainer:C.quantitySelectorDropdownContainer},i.a.createElement(s.a,{id:"".concat(w?"quantity-dropdown-mobile":"quantity-dropdown","-").concat(e),testId:"".concat(w?"quantity-dropdown-mobile":"quantity-dropdown","-").concat(e),options:g,size:r,value:n,onChange:function(t){return M(t.target.value)},placeholder:" "})):i.a.createElement("div",{className:w?C.quantitySelectorInputMobileContainer:C.quantitySelectorInputContainer},i.a.createElement(p.a,{id:"".concat(w?"quantity-input-mobile":"quantity-input","-").concat(e),size:r,value:q,maxLength:5,onChange:function(t){return M(t.target.value)},onBlur:function(){""===q&&S("1");var t=_(q,d);t<Math.min(d,10)&&x("dropdown"),l({value:t})},placeholder:""}))},h=n(10),x=n.n(h),E=["quantitySelectorStepper"],N=function(t){var e=t.unitMultiplier,n=void 0===e?1:e,a=t.measurementUnit,o=void 0===a?"un":a,r=t.size,c=void 0===r?"small":r,l=t.selectedQuantity,s=t.availableQuantity,d=t.onChange,p=t.showUnit,v=u()(E);return i.a.createElement("div",{className:v.quantitySelectorStepper},i.a.createElement(x.a,{size:c,minValue:1,unitMultiplier:n,suffix:p&&"un"!==o?o:void 0,onChange:d,value:l,maxValue:s||void 0}))},q=["quantitySelectorContainer","quantitySelectorTitle","availableQuantityContainer"];e.a=function(t){var e,n,r,c,l=t.dispatch,s=t.selectedItem,d=t.size,p=void 0===d?"small":d,v=t.showLabel,m=void 0===v||v,y=t.selectedQuantity,_=t.warningQuantityThreshold,f=void 0===_?0:_,h=t.selectorType,x=void 0===h?"stepper":h,E=t.showUnit,S=void 0===E||E,w=t.quantitySelectorStep,C=void 0===w?"unitMultiplier":w,g=u()(q),M=Object(a.useCallback)((function(t){l({type:"SET_QUANTITY",args:{quantity:t.value}})}),[l]),O=null!==(c=null===(r=null===(n=null===(e=null==s?void 0:s.sellers)||void 0===e?void 0:e.find((function(t){return!0===t.sellerDefault})))||void 0===n?void 0:n.commertialOffer)||void 0===r?void 0:r.AvailableQuantity)&&void 0!==c?c:0;if(O<1||!s)return null;var Q=O<=f,R="singleUnit"===C?1:s.unitMultiplier;return i.a.createElement("div",{className:"".concat(g.quantitySelectorContainer," flex flex-column mb4")},m&&i.a.createElement("div",{className:"".concat(g.quantitySelectorTitle," mb3 c-muted-2 t-body")},i.a.createElement(o.FormattedMessage,{id:"store/product-quantity.quantity"})),"stepper"===x&&i.a.createElement(N,{showUnit:S,size:p,unitMultiplier:R,measurementUnit:s.measurementUnit,selectedQuantity:y,availableQuantity:O,onChange:M}),"dropdown"===x&&i.a.createElement(b,{itemId:s.itemId,selectedQuantity:y,availableQuantity:O,onChange:M,size:p}),Q&&i.a.createElement("div",{className:"".concat(g.availableQuantityContainer," mv4 c-muted-2 t-small")},i.a.createElement(o.FormattedMessage,{id:"store/product-quantity.quantity-available",values:{availableQuantity:O}})))}},,,,function(t,e,n){"use strict";n.r(e),function(t){var e=n(3);n.p=Object(e.getPublicPath)("vtex.product-quantity@1.9.0");var a=Object(e.register)((function(){return n(16)}),t,"vtex.product-quantity@1.9.0","vtex.product-quantity@1.x","ProductSummaryQuantity");a.renderHotReload,a.setupHMR}.call(this,n(12)(t))},function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(1),r=n.n(o),u=n(5),c=n.n(u),l=n(6),s=n(11),d=["summaryContainer"],p=function(t){var e=t.warningQuantityThreshold,n=t.showLabel,a=t.size,o=t.selectorType,u=t.showUnit,p=t.quantitySelectorStep,v=r()(d),m=c()(),y=m.selectedItem,_=m.selectedQuantity,f=Object(l.useProductDispatch)();return i.a.createElement("div",{onClick:function(t){t.preventDefault(),t.stopPropagation()},className:"".concat(v.summaryContainer," center mw-100")},i.a.createElement(s.a,{showUnit:u,size:a,dispatch:f,showLabel:n,selectedItem:y,selectedQuantity:_,selectorType:o,warningQuantityThreshold:e,quantitySelectorStep:p}))};p.schema={title:"admin/editor.product-quantity.title",description:"admin/editor.product-quantity.description"},e.default=p}],[[15,"common"]]]);