(window.webpackJsonpvtex_product_context_0_10_1=window.webpackJsonpvtex_product_context_0_10_1||[]).push([["ProductContextProvider"],{0:function(t,e){t.exports=React},16:function(t,e,n){"use strict";n.r(e);var r=n(5),s=n(0),i=n.n(s),a=n(2),c=n(3),u=n(6);function o(t){return t.sellers.find((function(t){var e;return(null===(e=null==t?void 0:t.commertialOffer)||void 0===e?void 0:e.AvailableQuantity)>0}))}function l(t,e){var n=e.name,r=e.value;return Boolean(t.variations.find((function(t){return t.name===n&&t.values.some((function(t){return t===r}))})))}var d=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=null!==(e=t.skuId)&&void 0!==e?e:t.idsku;if(s)return s;var i=Object.entries(t).filter((function(t){return Object(r.a)(t,1)[0].startsWith("property__")})).map((function(t){var e=Object(r.a)(t,2),n=e[0],s=e[1];return[n.slice("property__".length),s]}));if(0!==i.length){var a=n.filter((function(t){return i.every((function(e){var n=Object(r.a)(e,2),s=n[0],i=n[1];return l(t,{name:s,value:i})}))}));if(0!==a.length){var c=a.find((function(t){return o(t)}));return c?c.itemId:a[0].itemId}}},O={loadingItem:!1,product:void 0,selectedItem:null,selectedQuantity:1,skuSelector:{selectedImageVariationSKU:null,isVisible:!1,areAllVariationsSelected:!0},buyButton:{clicked:!1},assemblyOptions:{items:{},inputValues:{},areGroupsValid:{}}};function b(t,e){var n,r;switch(e.type){case"SET_QUANTITY":var s=e.args||{};return Object.assign(Object.assign({},t),{selectedQuantity:s.quantity});case"SELECT_IMAGE_VARIATION":var i=e.args||{};return Object.assign(Object.assign({},t),{skuSelector:Object.assign(Object.assign({},t.skuSelector),{selectedImageVariationSKU:i.selectedImageVariationSKU})});case"SKU_SELECTOR_SET_VARIATIONS_SELECTED":var a=e.args||{};return Object.assign(Object.assign({},t),{skuSelector:Object.assign(Object.assign({},t.skuSelector),{areAllVariationsSelected:a.allSelected})});case"SET_BUY_BUTTON_CLICKED":var c=e.args||{};return Object.assign(Object.assign({},t),{buyButton:Object.assign(Object.assign({},t.buyButton),{clicked:c.clicked})});case"SKU_SELECTOR_SET_IS_VISIBLE":var o=e.args||{};return Object.assign(Object.assign({},t),{skuSelector:Object.assign(Object.assign({},t.skuSelector),{isVisible:o.isVisible})});case"SET_SELECTED_ITEM":var l=e.args||{};return Object.assign(Object.assign({},t),{loadingItem:!1,selectedItem:l.item});case"SET_LOADING_ITEM":return Object.assign(Object.assign({},t),{loadingItem:Boolean(e.args.loadingItem)});case"SET_ASSEMBLY_OPTIONS":var d=e.args||{},b=d.groupId,v=void 0===b?"":b,g=d.groupItems,j=void 0===g?[]:g,p=d.groupInputValues,f=void 0===p?{}:p,m=d.isValid,_=void 0!==m&&m;return Object.assign(Object.assign({},t),{assemblyOptions:Object.assign(Object.assign({},t.assemblyOptions),{inputValues:Object.assign(Object.assign({},t.assemblyOptions.inputValues),Object(u.a)({},v,f)),items:Object.assign(Object.assign({},t.assemblyOptions.items),Object(u.a)({},v,j)),areGroupsValid:Object.assign(Object.assign({},t.assemblyOptions.areGroupsValid),Object(u.a)({},v,_))})});case"SET_PRODUCT":var S=e.args||{},E=(null===(n=null==t?void 0:t.product)||void 0===n?void 0:n.linkText)!==(null===(r=null==S?void 0:S.product)||void 0===r?void 0:r.linkText);return Object.assign(Object.assign(Object.assign({},t),E?O:{}),{product:S.product});default:return t}}function v(t,e){var n;return t?e.find((function(e){return e.itemId===t})):null!==(n=e.find(o))&&void 0!==n?n:e[0]}function g(t){var e,n=t.query,r=t.product,s=null!==(e=null==r?void 0:r.items)&&void 0!==e?e:[];return Object.assign(Object.assign({},O),{selectedItem:v(d(n,s),s),product:r})}e.default=function(t){var e=t.query,n=t.product,u=t.children,o=function(t){var e=t.query,n=t.product;return Object(s.useReducer)(b,{query:e,product:n},g)}({query:e,product:n}),l=Object(r.a)(o,2),O=l[0],j=l[1];return function(t,e){Object(s.useEffect)((function(){t&&e({type:"SET_PRODUCT",args:{product:t}})}),[t,e])}(n,j),function(t,e,n){Object(s.useEffect)((function(){var r,s=null!==(r=null==e?void 0:e.items)&&void 0!==r?r:[];t({type:"SET_SELECTED_ITEM",args:{item:v(n,s)}})}),[t,n,e])}(j,n,d(e,null==n?void 0:n.items)),i.a.createElement(a.default.Provider,{value:O},i.a.createElement(c.ProductDispatchContext.Provider,{value:j},u))}},2:function(t,e,n){"use strict";n.r(e);var r=n(0),s=Object(r.createContext)({});e.default=s},3:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductDispatchContext",(function(){return s}));var r=n(0),s=Object(r.createContext)(null);e.default={ProductDispatchContext:s,useProductDispatch:function(){return Object(r.useContext)(s)}}},8:function(t,e,n){"use strict";n.r(e),function(t){var e=n(1);n.p=Object(e.getPublicPath)("vtex.product-context@0.10.1");var r=Object(e.register)((function(){return n(16)}),t,"vtex.product-context@0.10.1","vtex.product-context@0.x","ProductContextProvider");r.renderHotReload,r.setupHMR}.call(this,n(4)(t))}},[[8,"common"]]]);